These are chat archives for **symphonycms/symphony-2**

[__](/symphonycms/symphony-2/archives/2015/05/24)[__](/symphonycms/symphony-2/archives/2015/05/22)

23rd  
May 2015

Toggle Heatmap

[Sign in to start talking](/login?action=login&button=archive-login)

![](https://avatars-02.gitter.im/group/iv/3/57542c45c43b8c601977197e?s=48)

#  [symphonycms/symphony-2](/symphonycms/symphony-2)

This is the official Symphony 2 repository.

[ __](/orgs/symphonycms/rooms "More symphonycms rooms")

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:05](https://gitter.im/symphonycms/symphony-2?at=556026be9439f229424d4335)

@jonmifsud Did you ever get far with the XPath on the Remote DS?

____

To expose things as parameters?

____

@moretaste Glad you found a solution :)

____

@nitriques Yeah, I use it a fair bit these days to seed data

![](https://avatars2.githubusercontent.com/u/857982?v=3&s=30)

____

Rudy Montoya Rodriguez

@moretaste

[May 23 2015
07:10](https://gitter.im/symphonycms/symphony-2?at=556027c817f8c79a4f8bec9e)

remote DS good point ;-) and yup solution found.

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:11](https://gitter.im/symphonycms/symphony-2?at=5560280a7890a72772d46238)

@brendo I did expose xPath as parameters but not sure if it was a fork of
remote DS or something slightly different. I’ll have to check back on that. I
think it was a while back right?

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:11](https://gitter.im/symphonycms/symphony-2?at=5560281f17f8c79a4f8beca2)

Yeah I think so

____

No worries if you don’t, I’ll take a look

____

I need a solution for a client project

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:12](https://gitter.im/symphonycms/symphony-2?at=5560284c9439f229424d4344)

I’ll look that up. pretty sure I had somehting somewhere.

____

ah no worries I just have to remember which project / extension it was.

![](https://avatars2.githubusercontent.com/u/857982?v=3&s=30)

____

Rudy Montoya Rodriguez

@moretaste

[May 23 2015
07:12](https://gitter.im/symphonycms/symphony-2?at=55602866c42aede80f3372c4)

It was around 10 days ago I started that discussion

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:12](https://gitter.im/symphonycms/symphony-2?at=5560286729921ce910487ca7)

I could make them manually link things in Symphony, but it’s a poor solution,
and it’d be really cool to expose things from external datasources

____

And yep,  @moretaste I believe Union DS will merge all the ‘included’ elements
by the section handle, not the datasource handle

____

If you are able to log a ticket on the repo I can take a look, just probably
not for a little bit :)

____

This is my last weekend in Australia for 7 weeks!

![](https://avatars2.githubusercontent.com/u/857982?v=3&s=30)

____

Rudy Montoya Rodriguez

@moretaste

[May 23 2015
07:14](https://gitter.im/symphonycms/symphony-2?at=556028c317f8c79a4f8beca6)

Travel to europe I thought?

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:14](https://gitter.im/symphonycms/symphony-2?at=556028cc29921ce910487caa)

Yep!

![](https://avatars2.githubusercontent.com/u/857982?v=3&s=30)

____

Rudy Montoya Rodriguez

@moretaste

[May 23 2015
07:14](https://gitter.im/symphonycms/symphony-2?at=556028d417f8c79a4f8beca7)

Nice

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:19](https://gitter.im/symphonycms/symphony-2?at=556029e6c13de0840ffc2c16)

@brendo seems like I never actually got to it. Must have turned out irrelevant
to the University project I was doing at the time…

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:19](https://gitter.im/symphonycms/symphony-2?at=55602a077890a72772d46243)

Ah no worries

____

Well, looks like I little job to do then!

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:19](https://gitter.im/symphonycms/symphony-2?at=55602a1d29921ce910487cb1)

yeah do you need a hand with that?

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:20](https://gitter.im/symphonycms/symphony-2?at=55602a3017f8c79a4f8becaf)

Should be ok I think!

____

Testing will be useful though :)

____

I was thinking of adding another duplicator to page for output parameters

____

And then two fields, one for the parameter name, the other for the xpath

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:21](https://gitter.im/symphonycms/symphony-2?at=55602a5fc42aede80f3372d1)

Sure will test that out no problem :) pretty sure I have a use case. Hmm yeah
that makes sense

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:21](https://gitter.im/symphonycms/symphony-2?at=55602a7617f8c79a4f8becb5)

I think I’ll keep the scope to that for now

____

It’d be nice to add the required/forbidden parameter logic to the DS as well
though

____

One thing at a time :)

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:22](https://gitter.im/symphonycms/symphony-2?at=55602aaec42aede80f3372d4)

yeah agreed params are probably more useful at this stage :) then the required
could come later to save some processing time

____

Btw that little project you forwarded me with Project/client management I got
that sorted - (with an extra field per section) - The only thing I had to
touch was to add a new delegate for Selectbox Link Field. (would be required
for associations)

____

to do with the count / showing filtered items in the dropdown. But otherwise
all the other delegates available (including filtering delegates) allow me to
do the rest.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:25](https://gitter.im/symphonycms/symphony-2?at=55602b6517f8c79a4f8becb7)

Magic

____

that’s great news

____

Did you want to get that delegate in an official release?

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
07:25](https://gitter.im/symphonycms/symphony-2?at=55602b8417f8c79a4f8becb9)

not necessary at this point but I could put it on my list.

____

basically it’s a delegate to modify the ‘count’ queries

____

so if you are filtering a backend view it doesn’t say 100 entries when that
user has none

____

also triggered a delegate before pulling the related entries - same kind of
modification.

____

I guess I should try close off what PR’s I have pending all over the place
before adding more.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
07:32](https://gitter.im/symphonycms/symphony-2?at=55602cf3c42aede80f3372e9)

Haha

____

That’s fair enough

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:46](https://gitter.im/symphonycms/symphony-2?at=55603e6ac13de0840ffc2cd5)

@brendo \- just a quick question. To do core updates on integration etc do you
usually keep a separate dummy project to work with? Keen to have an
integration version again now it’s going into 3 so I can start testing the
PR’s and rebasing them. Not sure migrating my existing project would be good
(due to large number of extensions etc)

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:50](https://gitter.im/symphonycms/symphony-2?at=55603f3f17f8c79a4f8bed72)

Yeah, I just have a testbed

____

I need to redo it a bit

____

I had a large one before which had full members integration and 20-30
extensions

____

But I’ve scaled it back of late

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:51](https://gitter.im/symphonycms/symphony-2?at=55603f7c7890a72772d462fc)

yeah if you’d want to test everything gets pretty large...

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:51](https://gitter.im/symphonycms/symphony-2?at=55603f809439f229424d4405)

Yeah

____

God how I’d love unit tests for Symphony

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:51](https://gitter.im/symphonycms/symphony-2?at=55603f97c42aede80f33737a)

was thinking of the same thing - would streamline a lot of changes / testing

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:51](https://gitter.im/symphonycms/symphony-2?at=55603f9cc42aede80f33737c)

The project I’m building at work has 80%+ test coverage. It’s a dream

____

Our code is quite hard to test because it’s quite tightly coupled though

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:52](https://gitter.im/symphonycms/symphony-2?at=55603fb417f8c79a4f8bed7b)

oh nice - to be fair test coverage is something I have been thinking of but
never got to..

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:52](https://gitter.im/symphonycms/symphony-2?at=55603fc57890a72772d462fe)

Aside from the General class, it’d be a challenge to test some of our stuff

____

If you ever get the chance

____

Do it

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:52](https://gitter.im/symphonycms/symphony-2?at=55603fe717f8c79a4f8bed81)

not sure if it might be easier / harder

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:53](https://gitter.im/symphonycms/symphony-2?at=55603ff8c42aede80f337383)

The time it takes to write the tests straight up is longer, and it’s a shift
in the way you think, but if you’re going to maintain the project for a little
while, it will pay for itself time and time again

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:53](https://gitter.im/symphonycms/symphony-2?at=55603ff9c13de0840ffc2ce4)

since the code is coupled, would be easier to test what’s expected to happen
frontend rather than backend / function testing

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:53](https://gitter.im/symphonycms/symphony-2?at=556040147890a72772d46301)

Potentially, I’ve not written frontend tests before

____

Could be a nice exercise

____

The benefit of doing testing of the backend is that you get actual code
coverage

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:54](https://gitter.im/symphonycms/symphony-2?at=5560402ec42aede80f337385)

yeah frontend is pretty easy it seems. been on my plan for clients… but never
got time to push it through

____

idea was to use <http://casperjs.org/>

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:54](https://gitter.im/symphonycms/symphony-2?at=5560404429921ce910487d70)

Nice

____

Yeah I’ve heard of Casper

____

I’m using PHPUnit and Prophecy to do PHP based tests

____

My major gap is database testing, I’m still not sure how to do that

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:55](https://gitter.im/symphonycms/symphony-2?at=55604080c13de0840ffc2ce8)

ah in what sense?

____

confirming that the data is being inputted properly?

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:56](https://gitter.im/symphonycms/symphony-2?at=556040a8c13de0840ffc2cea)

Yeah

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:56](https://gitter.im/symphonycms/symphony-2?at=556040d629921ce910487d79)

Hmm… what if you had the following (might be exagerating here). Assuming you
start symphony from a blank slate.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:57](https://gitter.im/symphonycms/symphony-2?at=556040e529921ce910487d7a)

Oh, no this isn’t a Symphony project ;)

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:57](https://gitter.im/symphonycms/symphony-2?at=556040e87890a72772d46308)

ahh

____

ok :) thought symphony related

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:57](https://gitter.im/symphonycms/symphony-2?at=556040f97890a72772d46309)

haha nah

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:57](https://gitter.im/symphonycms/symphony-2?at=556041059439f229424d4418)

no idea never thought of DB testing before.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:57](https://gitter.im/symphonycms/symphony-2?at=5560410629921ce910487d7d)

Just in doing that I’ve been looking at ways to apply it

____

It’s more just saving the database and then querying it back out again

____

So, Entry Manager for example

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:58](https://gitter.im/symphonycms/symphony-2?at=5560413f7890a72772d46310)

mhm I guess so. If you know the inputs and you know what to expect in outputs
it’s always testable I guess.

____

If you think about it, if you’d had to do a frontend test which covers backend
UI functionality you’d have the backend tests covered or very nearly covered.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:59](https://gitter.im/symphonycms/symphony-2?at=556041717890a72772d46312)

Yeah, but only from a functional perspective

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:59](https://gitter.im/symphonycms/symphony-2?at=5560417417f8c79a4f8bed8d)

true

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
08:59](https://gitter.im/symphonycms/symphony-2?at=5560417c7890a72772d46314)

Still, would be better than nothing :D

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
08:59](https://gitter.im/symphonycms/symphony-2?at=5560418617f8c79a4f8bed8e)

you can’t guarantee how the data is handled in between

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
09:39](https://gitter.im/symphonycms/symphony-2?at=55604abf9439f229424d4458)

So, I think I’ve got something for Remote DS & parameters

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
09:41](https://gitter.im/symphonycms/symphony-2?at=55604b2e29921ce910487dd3)

ok - Should be able to test when you have something ready.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
09:44](https://gitter.im/symphonycms/symphony-2?at=55604c039439f229424d445d)

Just testing with namespaces atm

____

Seems to be working okay in an example just sucking in my Github feed

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
09:58](https://gitter.im/symphonycms/symphony-2?at=55604f299439f229424d4475)

Yep, now working with namespaces

____

kinda stunted development while Jurassic Park is on TV!

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
09:58](https://gitter.im/symphonycms/symphony-2?at=55604f35c13de0840ffc2d46)

:)

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
10:03](https://gitter.im/symphonycms/symphony-2?at=5560506f7890a72772d463a8)

<https://github.com/symphonycms/remote_datasource/tree/integration>

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:05](https://gitter.im/symphonycms/symphony-2?at=556050f89439f229424d4499)

ok will try it out now :) - btw seeing that you used it for github, you
customised through the prepareGateway function?

____

or just a public feed

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
10:05](https://gitter.im/symphonycms/symphony-2?at=55605104c13de0840ffc2d5b)

Nah

____

Remote DS supports JSON

____

the JSON gets converted to XML

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:06](https://gitter.im/symphonycms/symphony-2?at=5560511cc13de0840ffc2d61)

right - thought it was a private feed requiring auth or something

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
10:06](https://gitter.im/symphonycms/symphony-2?at=5560513d7890a72772d463b7)

Oh no, just the public endpoint! <https://api.github.com/users/brendo>

____

That’d be another feature to add to the DS

____

Custom Headers

____

so you can pass Auth tokens

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:07](https://gitter.im/symphonycms/symphony-2?at=55605158c13de0840ffc2d64)

I had a customisation for that somewhere though :)

____

as I based an oAuth extension on remote ds

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
10:07](https://gitter.im/symphonycms/symphony-2?at=5560516129921ce910487e26)

And then to make it handle OAuth out of the box

____

oh brilliant

____

You must have a treasure trove of stuff stashed away on various projects :)

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:07](https://gitter.im/symphonycms/symphony-2?at=5560517417f8c79a4f8bee13)

it’s around 2/3 years old though!!

____

yeah pretty much :) that was a uni project - only used it for that though.
planning to revamp at some point

____

that extension supports login etc pretty much close to members

____

I also have an unreleased extension which passes text to third parties to
extract entity data. (links to DB Pedia / Wikipedia)

____

which was pretty cool when hooked up to a private server to see who knows what
topics

____

but it might be a bit over the top :) got my dissertation based on Symphony.

![](https://avatars2.githubusercontent.com/u/69268?v=3&s=30)

____

Brendan Abbott

@brendo

[May 23 2015
10:15](https://gitter.im/symphonycms/symphony-2?at=5560535e29921ce910487e46)

very cool mate

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:17](https://gitter.im/symphonycms/symphony-2?at=556053a129921ce910487e47)

bunch of unused goodies though

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:22](https://gitter.im/symphonycms/symphony-2?at=556054d47890a72772d463da)

seems good here can see the output params :)

____

Just one question not sure if I’m mis-using or a separate bug.

If included elements is `//item` not `/data`I am getting errors

____

    
    
        <github-repos url= "https://api.github.com/users/jonmifsud/repos">
                <error>DOMDocument::loadXML(): Extra content at the end of the document in Entity, line: 87</error>
        </github-repos>

![](https://avatars1.githubusercontent.com/u/859775?v=3&s=30)

____

Jonathan Mifsud

@jonmifsud

[May 23 2015
10:32](https://gitter.im/symphonycms/symphony-2?at=556057257890a72772d46400)

confirmed it seems to be the combination of using a param + and included
element is not data. - the `$data` variable passed to processOutputParameters
might not be a complete XML (could be a subset)

![](https://avatars1.githubusercontent.com/u/4517581?v=3&s=30)

____

munki-boy

@munki-boy

[May 23 2015
23:52](https://gitter.im/symphonycms/symphony-2?at=556112cf17f8c79a4f8bfaf6)

$page is a number that starts at 1 and increments by 1. If I write

____

    
    
     item[position() & lt; $page * 4 and position() &gt;= $page * 4 - 4]

____

I will get a bunch of 3 nodes followed by bunches of 4 nodes which is what I
'd expect, but is there a way to write this that would give all bunches of 4
nodes without repeating my code block once for when $page = 1 and a second
time for when $page > 1?

_

